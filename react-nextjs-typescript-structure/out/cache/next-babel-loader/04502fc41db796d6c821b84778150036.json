{"ast":null,"code":"var _jsxFileName = \"/workspace/3CDisc-API/react-nextjs-typescript-structure/src/pages/grafic.tsx\";\nvar __jsx = React.createElement;\nimport React, { useEffect, useState, useRef } from 'react';\nimport axios from 'axios';\nimport { CardContent } from '../styles/pages/Home';\nconst Home = () => {\n  const {\n    0: bases\n  } = useState({\n    'G - FGTS': '29870',\n    'C e M - INSS PORTABILIDADE ATUALIZADA FILE': '78025',\n    'M - UNIFICADA GRUPO SP - GOV/PME/SPPREV': '80797',\n    'G - INSS PORTABILIDADE': '69098',\n    'C - BASE FILE PORT INBURSA/CREFISA': '83106',\n    'I - TJSP': '62048',\n    'C e M - INBURSA PORTANDO D+ BANCOS PARA: ACIMA DE 500': '83752',\n    'G - PMESP AUMENTO 20%': '70014',\n    'M - GOV MT GERAL': '70967',\n    'C - INSS PORTABILIDADE INBURSA': '80802',\n    'G - PMSP - PREMIUM': '80801',\n    'M - SANTOS': '82286',\n    'I - BANCO MASTER SAQUE COMPL SEFAZ': '54283',\n    'G - PMSP AUMENTO 5%': '70015',\n    'G - OPORTUNIDADE INSS BANCO MASTER': '30730',\n    'C - INSS PORTABILIDADE CREFISA': '80803',\n    'S - UNIFICADA GRUPO SP - GOV/PME/SPPREV': '80798',\n    'I - PREF CURITIBA': '80595',\n    'M - GOV PARANA SAQUE COMPLEMENTAR MASTER': '79162',\n    'G - MARGEM REAL CARTÃO BENEFÍCIO MCC GOVSP': '70034',\n    'I - PM BETIM': '60139',\n    'G - GOV MARANHAO CARTAO BENEFICIO': '59136',\n    'G - GOV MG - GERAL': '55691',\n    'G - GOV PE': '51370',\n    'G - MT GROSSO DO SUL GERAL': '50943',\n    'G - SAQUE COMPLEMENTAR DAYCOVAL ACIMA 1000': '50008',\n    'G - REFIN SANTANDER | REDUÇÃO TAXA | PUBLICOS': '45169',\n    'G - SAQUE COMPLEMENTAR BANCO MASTER ATUALIZADO': '41975',\n    'G - COMLURB SANT': '41000',\n    'G - REFIN SANTANDER UNIFICADA': '38247',\n    'G - GOV SANTA CATARINA': '37114',\n    'G - GOV RJ CORRENTISTAS': '35994',\n    'G - OSASCO': '33270',\n    'G - 50 + VENDIDOS MARGEM ONLINE': '33263'\n  });\n  const {\n    0: loading,\n    1: setLoading\n  } = useState(true);\n  const {\n    0: baseData,\n    1: setBaseData\n  } = useState({});\n  const {\n    0: expandedBase,\n    1: setExpandedBase\n  } = useState(null); // Estado para controlar a div expandida\n  const {\n    0: campanhasComAviso,\n    1: setCampanhasComAviso\n  } = useState([]);\n  const {\n    0: lastUpdate,\n    1: setLastUpdate\n  } = useState(new Date());\n  const chartRef = useRef(null);\n  useEffect(() => {\n    async function fetchData() {\n      try {\n        const newData = {};\n        for (const baseName in bases) {\n          const id = bases[baseName];\n          const response = await axios.get(`https://3c.fluxoti.com/api/v1/campaigns/${id}/lists?api_token=d0NLCpTnvtsY1gQu7S38RyF47fOjnHknynBjGzWxCwpXOJqXaNwWDrGqFomq`);\n          const filteredData = response.data.data.filter(post => post.weight === 1);\n          newData[id] = filteredData;\n          const temPorcentagemMaiorQue90 = filteredData.some(post => parseFloat(post.completed_percentage) > 90);\n          if (temPorcentagemMaiorQue90) {\n            campanhasComAviso.push(id);\n          }\n        }\n        setCampanhasComAviso(campanhasComAviso);\n        setBaseData(newData);\n        setLoading(false);\n        setLastUpdate(new Date());\n      } catch (error) {\n        console.error('Erro ao buscar os dados:', error);\n        setLoading(false);\n      }\n    }\n    fetchData();\n    const interval = setInterval(fetchData, 5 * 1 * 1000); // Recarrega a cada 60 minutos\n\n    return () => clearInterval(interval); // Limpa o temporizador quando o componente é desmontado\n  }, [bases]);\n\n  // ... Your existing code ...quero que você me traga o código completo \n\n  // ... Rest of your code ...\n\n  return __jsx(CardContent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 5\n    }\n  }, __jsx(\"div\", {\n    className: \"title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }\n  }), __jsx(\"div\", {\n    className: \"chart-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }\n  }, __jsx(\"canvas\", {\n    ref: chartRef,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 9\n    }\n  })));\n};\nexport default Home;","map":{"version":3,"names":["React","useEffect","useState","useRef","axios","CardContent","Home","bases","loading","setLoading","baseData","setBaseData","expandedBase","setExpandedBase","campanhasComAviso","setCampanhasComAviso","lastUpdate","setLastUpdate","Date","chartRef","fetchData","newData","baseName","id","response","get","filteredData","data","filter","post","weight","temPorcentagemMaiorQue90","some","parseFloat","completed_percentage","push","error","console","interval","setInterval","clearInterval","__jsx","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","className","ref"],"sources":["/workspace/3CDisc-API/react-nextjs-typescript-structure/src/pages/grafic.tsx"],"sourcesContent":["import React, { useEffect, useState, useRef } from 'react';\nimport axios from 'axios';\nimport { Container, CardContent } from '../styles/pages/Home';\nimport Chart from 'chart.js';\n\nconst Home: React.FC = () => {\n    const [bases] = useState({\n        'G - FGTS': '29870',\n        'C e M - INSS PORTABILIDADE ATUALIZADA FILE': '78025',\n        'M - UNIFICADA GRUPO SP - GOV/PME/SPPREV': '80797',\n        'G - INSS PORTABILIDADE': '69098',\n        'C - BASE FILE PORT INBURSA/CREFISA': '83106',\n        'I - TJSP': '62048',\n        'C e M - INBURSA PORTANDO D+ BANCOS PARA: ACIMA DE 500': '83752',\n        'G - PMESP AUMENTO 20%': '70014',\n        'M - GOV MT GERAL': '70967',\n        'C - INSS PORTABILIDADE INBURSA': '80802',\n        'G - PMSP - PREMIUM': '80801',\n        'M - SANTOS': '82286',\n        'I - BANCO MASTER SAQUE COMPL SEFAZ': '54283',\n        'G - PMSP AUMENTO 5%': '70015',\n        'G - OPORTUNIDADE INSS BANCO MASTER': '30730',\n        'C - INSS PORTABILIDADE CREFISA': '80803',\n        'S - UNIFICADA GRUPO SP - GOV/PME/SPPREV': '80798',\n        'I - PREF CURITIBA': '80595',\n        'M - GOV PARANA SAQUE COMPLEMENTAR MASTER': '79162',\n        'G - MARGEM REAL CARTÃO BENEFÍCIO MCC GOVSP': '70034',\n        'I - PM BETIM': '60139',\n        'G - GOV MARANHAO CARTAO BENEFICIO': '59136',\n        'G - GOV MG - GERAL': '55691',\n        'G - GOV PE': '51370',\n        'G - MT GROSSO DO SUL GERAL': '50943',\n        'G - SAQUE COMPLEMENTAR DAYCOVAL ACIMA 1000': '50008',\n        'G - REFIN SANTANDER | REDUÇÃO TAXA | PUBLICOS': '45169',\n        'G - SAQUE COMPLEMENTAR BANCO MASTER ATUALIZADO': '41975',\n        'G - COMLURB SANT': '41000',\n        'G - REFIN SANTANDER UNIFICADA': '38247',\n        'G - GOV SANTA CATARINA': '37114',\n        'G - GOV RJ CORRENTISTAS': '35994',\n        'G - OSASCO': '33270',\n        'G - 50 + VENDIDOS MARGEM ONLINE': '33263',\n  });\n\n  const [loading, setLoading] = useState(true);\n  const [baseData, setBaseData] = useState({});\n  const [expandedBase, setExpandedBase] = useState(null); // Estado para controlar a div expandida\n  const [campanhasComAviso, setCampanhasComAviso] = useState([]);\n  const [lastUpdate, setLastUpdate] = useState(new Date());\n\n  const chartRef = useRef(null);\n\n  useEffect(() => {\n    async function fetchData() {\n      try {\n        const newData = {};\n\n        for (const baseName in bases) {\n          const id = bases[baseName];\n          const response = await axios.get(`https://3c.fluxoti.com/api/v1/campaigns/${id}/lists?api_token=d0NLCpTnvtsY1gQu7S38RyF47fOjnHknynBjGzWxCwpXOJqXaNwWDrGqFomq`);\n          const filteredData = response.data.data.filter((post) => post.weight === 1);\n          newData[id] = filteredData;\n\n          const temPorcentagemMaiorQue90 = filteredData.some((post) => parseFloat(post.completed_percentage) > 90);\n          if (temPorcentagemMaiorQue90) {\n            campanhasComAviso.push(id);\n          }\n        }\n\n        setCampanhasComAviso(campanhasComAviso);\n        setBaseData(newData);\n        setLoading(false);\n        setLastUpdate(new Date());\n      } catch (error) {\n        console.error('Erro ao buscar os dados:', error);\n        setLoading(false);\n      }\n    }\n\n    fetchData();\n    const interval = setInterval(fetchData, 5 * 1 * 1000); // Recarrega a cada 60 minutos\n\n    return () => clearInterval(interval); // Limpa o temporizador quando o componente é desmontado\n  }, [bases]);\n\n  // ... Your existing code ...quero que você me traga o código completo \n\n  // ... Rest of your code ...\n\n  return (\n    <CardContent>\n      <div className='title'>\n        {/* Your existing code ... */}\n      </div>\n      <div className=\"chart-container\">\n        <canvas ref={chartRef}></canvas>\n      </div>\n    </CardContent>\n  );\n};\n\nexport default Home;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}